<!-- CALENDAR VIEW (grouped by day) -->
<div class="events-by-day" *ngIf="viewMode === 'calendar'">
  <div class="day-section" *ngFor="let day of dayGroups()">
    <div class="day-header">
      <div class="day-date-box">
        <div class="day-number">{{ day.dayNumber }}</div>
        <div class="day-month">{{ day.month }}</div>
      </div>
      <div class="day-info">
        <div class="day-name">{{ day.dayOfWeek }}</div>
        <div class="day-full-date">{{ day.fullDate }}</div>
      </div>
      <div class="event-count">{{ day.events.length }} {{ day.events.length === 1 ? 'event' : 'events' }}</div>
    </div>

    <div class="day-events">
      <a *ngFor="let event of day.events"
         [routerLink]="['/profile/events', event.id]"
         class="event-card-inline">
        <div class="event-time-block">
          <div class="event-time-main">{{ event.startTime }}</div>
          <div class="event-stardate">{{ calculateStardate(event.date, event.startTime) }}</div>
        </div>
        <div class="event-details">
          <div class="event-title">{{ event.name }}</div>
          <div class="event-venue">ğŸ“ {{ event.venueName }}</div>
          <div class="event-icons">
            <span *ngFor="let cat of event.category | slice:0:3">{{ getCategoryIcon(cat) }}</span>
          </div>
        </div>
      </a>
    </div>
  </div>
</div>

<!-- LIST VIEW (flat list) -->
<div class="events-list" *ngIf="viewMode === 'list'">
  <a *ngFor="let event of flatEvents()"
     [routerLink]="['/profile/events', event.id]"
     class="event-list-item">
    <div class="list-date-col">
      <div class="list-date-number">{{ getDayNumber(event.date) }}</div>
      <div class="list-date-month">{{ getMonth(event.date) }}</div>
    </div>
    <div class="list-time-col">
      <div class="list-time">{{ event.startTime }}</div>
      <div class="list-day">{{ getDayOfWeek(event.date) }}</div>
    </div>
    <div class="list-info-col">
      <div class="list-title">{{ event.name }}</div>
      <div class="list-venue">ğŸ“ {{ event.venueName }}</div>
    </div>
    <div class="list-icons-col">
      <span *ngFor="let cat of event.category | slice:0:3">{{ getCategoryIcon(cat) }}</span>
    </div>
    <div class="list-price-col">{{ event.price }}</div>
  </a>
</div>

<!-- NO RESULTS -->
<div *ngIf="(viewMode === 'calendar' && dayGroups().length === 0) ||
            (viewMode === 'list' && flatEvents().length === 0)"
     class="no-events">
  <p>No events match your filters.</p>
  <p class="no-events-hint">Try adjusting your location, date, or category filters.</p>
</div>